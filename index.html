<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#4A90E2">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Maike's PasjesPlank</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- Splash screen -->
  <div class="splash-screen" id="splashScreen">
    <div class="splash-content">
      <img src="pasjesplank_logo_final.svg" alt="Maike's PasjesPlank" class="splash-logo">
    </div>
  </div>

  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <img src="pasjesplank_logo_final.svg" alt="" class="header-logo">
      <h1>Maike's PasjesPlank</h1>
    </div>
  </header>

  <!-- Filter bar -->
  <div class="filter-bar" id="filterBar">
    <button class="filter-chip active" data-filter="all">Alles</button>
    <button class="filter-chip" data-filter="supermarkt">&#x1F6D2; Supermarkt</button>
    <button class="filter-chip" data-filter="kleding">&#x1F455; Kleding</button>
    <button class="filter-chip" data-filter="drogisterij">&#x1F9F4; Drogisterij</button>
    <button class="filter-chip" data-filter="wonen">&#x1F3E0; Wonen</button>
    <button class="filter-chip" data-filter="overig">&#x1F3F7;&#xFE0F; Overig</button>
  </div>

  <!-- Kaarten overzicht -->
  <main class="cards-container" id="cardsContainer">
    <!-- Lege state -->
    <div class="empty-state" id="emptyState">
      <svg class="empty-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <rect x="2" y="5" width="20" height="14" rx="3"/>
        <line x1="6" y1="10" x2="6" y2="15"/>
        <line x1="8" y1="10" x2="8" y2="15"/>
        <line x1="10" y1="10" x2="10" y2="15"/>
        <line x1="12" y1="10" x2="12" y2="15"/>
        <line x1="14" y1="10" x2="14" y2="15"/>
        <line x1="16" y1="10" x2="16" y2="15"/>
        <line x1="18" y1="10" x2="18" y2="15"/>
      </svg>
      <h2>Nog geen kaarten</h2>
      <p>Voeg je eerste klantenkaart toe met de + knop hieronder!</p>
    </div>

    <!-- Kaarten worden hier dynamisch ingevoegd -->
    <div class="cards-grid" id="cardsGrid"></div>
  </main>

  <!-- FAB toevoegen knop -->
  <button class="fab" id="fabAdd" aria-label="Kaart toevoegen">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
      <line x1="12" y1="5" x2="12" y2="19"/>
      <line x1="5" y1="12" x2="19" y2="12"/>
    </svg>
  </button>

  <!-- Modal: Kaart toevoegen -->
  <div class="modal-overlay" id="addModal">
    <div class="modal">
      <div class="modal-header">
        <h2>Kaart toevoegen</h2>
        <button class="modal-close" id="closeAddModal" aria-label="Sluiten">&times;</button>
      </div>
      <form id="addCardForm">
        <div class="form-group">
          <label for="storeName">Winkelnaam</label>
          <input type="text" id="storeName" placeholder="Bijv. Albert Heijn" required>
        </div>
        <div class="form-group">
          <label>Categorie</label>
          <div class="category-picker" id="categoryPicker">
            <button type="button" class="category-option" data-category="supermarkt">&#x1F6D2;<span>Supermarkt</span></button>
            <button type="button" class="category-option" data-category="kleding">&#x1F455;<span>Kleding</span></button>
            <button type="button" class="category-option" data-category="drogisterij">&#x1F9F4;<span>Drogisterij</span></button>
            <button type="button" class="category-option" data-category="wonen">&#x1F3E0;<span>Wonen</span></button>
            <button type="button" class="category-option selected" data-category="overig">&#x1F3F7;&#xFE0F;<span>Overig</span></button>
          </div>
        </div>
        <div class="form-group">
          <label for="barcodeNumber">Barcodenummer</label>
          <div class="barcode-input-row">
            <input type="text" id="barcodeNumber" placeholder="Bijv. 2612345678901" required inputmode="numeric" pattern="[0-9]*">
            <button type="button" class="scan-btn" id="scanBtn" aria-label="Barcode scannen">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 4V2a1 1 0 011-1h4"/>
                <path d="M18 1h4a1 1 0 011 1v4"/>
                <path d="M23 18v4a1 1 0 01-1 1h-4"/>
                <path d="M6 23H2a1 1 0 01-1-1v-4"/>
                <line x1="4" y1="9" x2="4" y2="15"/>
                <line x1="7" y1="9" x2="7" y2="15"/>
                <line x1="10" y1="9" x2="10" y2="15"/>
                <line x1="13" y1="9" x2="13" y2="15"/>
                <line x1="16" y1="9" x2="16" y2="15"/>
                <line x1="19" y1="9" x2="19" y2="15"/>
              </svg>
            </button>
          </div>
        </div>
        <div class="form-group">
          <label>Kaartkleur</label>
          <div class="color-picker" id="colorPicker">
            <button type="button" class="color-option selected" data-color="#6C63FF" style="background:#6C63FF"></button>
            <button type="button" class="color-option" data-color="#FF6B6B" style="background:#FF6B6B"></button>
            <button type="button" class="color-option" data-color="#4ECDC4" style="background:#4ECDC4"></button>
            <button type="button" class="color-option" data-color="#FFD93D" style="background:#FFD93D"></button>
            <button type="button" class="color-option" data-color="#6BCB77" style="background:#6BCB77"></button>
            <button type="button" class="color-option" data-color="#FF8E53" style="background:#FF8E53"></button>
            <button type="button" class="color-option" data-color="#A855F7" style="background:#A855F7"></button>
            <button type="button" class="color-option" data-color="#EC4899" style="background:#EC4899"></button>
          </div>
        </div>
        <button type="submit" class="btn-save">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
            <path d="M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"/>
            <polyline points="17,21 17,13 7,13 7,21"/>
            <polyline points="7,3 7,8 15,8"/>
          </svg>
          Opslaan
        </button>
      </form>
    </div>
  </div>

  <!-- Modal: Kaart detail -->
  <div class="modal-overlay" id="detailModal">
    <div class="modal detail-modal">
      <div class="modal-header">
        <h2 id="detailStoreName">Winkelnaam</h2>
        <button class="modal-close" id="closeDetailModal" aria-label="Sluiten">&times;</button>
      </div>
      <div class="detail-category-badge" id="detailCategory"></div>
      <div class="detail-content">
        <div class="detail-barcode-wrapper">
          <svg id="detailBarcode"></svg>
        </div>
        <p class="detail-number" id="detailNumber"></p>
      </div>
      <button class="btn-delete" id="deleteCardBtn">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18">
          <polyline points="3,6 5,6 21,6"/>
          <path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/>
        </svg>
        Verwijderen
      </button>
    </div>
  </div>

  <!-- Scanner overlay -->
  <div class="scanner-overlay" id="scannerOverlay">
    <div class="scanner-header">
      <h2>Scan barcode</h2>
      <button class="scanner-close" id="closeScannerBtn" aria-label="Sluiten">&times;</button>
    </div>
    <div class="scanner-viewport" id="scannerViewport">
      <div class="scanner-guide"></div>
    </div>
    <p class="scanner-hint">Richt de camera op de barcode van je klantenkaart</p>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3/dist/JsBarcode.all.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@ericblade/quagga2/dist/quagga.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
